// Sistema de internacionalização simples
export type Locale = 'pt' | 'en';

export interface Translations {
  [key: string]: string | Translations;
}

const translations: Record<Locale, Translations> = {
  pt: {
    common: {
      welcome: 'Bem-vindo ao SES Pilot',
      loading: 'Carregando...',
      error: 'Erro',
      success: 'Sucesso',
      cancel: 'Cancelar',
      save: 'Salvar',
      delete: 'Excluir',
      edit: 'Editar',
      create: 'Criar',
      close: 'Fechar',
      confirm: 'Confirmar',
      back: 'Voltar',
      next: 'Próximo',
      previous: 'Anterior',
      search: 'Buscar',
      filter: 'Filtrar',
      sort: 'Ordenar',
      refresh: 'Atualizar',
      sync: 'Sincronizar',
      import: 'Importar',
      export: 'Exportar',
      download: 'Baixar',
      upload: 'Enviar',
      settings: 'Configurações',
      theme: 'Tema',
      language: 'Idioma',
      dark: 'Escuro',
      light: 'Claro',
      system: 'Sistema',
      portuguese: 'Português',
      english: 'English',
    },
    dashboard: {
      title: 'Painel de Controle',
      description: 'Gerencie seus templates de e-mail do Amazon SES de forma simples e eficiente.',
      emailTemplates: 'Templates de E-mail',
      emailTemplatesDesc: 'Gerencie seus templates de e-mail personalizados',
      verificationTemplates: 'Templates de Verificação',
      verificationTemplatesDesc: 'Templates para verificação de e-mail',
      awsStatus: 'Status da AWS',
      awsStatusDesc: 'Conectividade com Amazon SES',
      quickActions: 'Ações Rápidas',
      quickActionsDesc: 'Acesse rapidamente as funcionalidades principais',
      createNewTemplate: 'Criar Novo Template',
      createNewTemplateDesc: 'Crie um novo template de e-mail do zero',
      importFromAWS: 'Importar da AWS',
      importFromAWSDesc: 'Importe templates existentes da AWS',
      comingSoon: 'Em breve',
      connected: 'Conectado',
      online: 'Online',
      local: 'Local',
    },
    templates: {
      title: 'Templates de E-mail',
      newTemplate: 'Novo Template',
      templateName: 'Nome do Template',
      subject: 'Assunto',
      htmlContent: 'Conteúdo HTML',
      textContent: 'Conteúdo Texto',
      variables: 'Variáveis',
      preview: 'Visualizar',
      deploy: 'Implantar',
      pull: 'Puxar da AWS',
      syncStatus: {
        synced: 'Sincronizado',
        modified: 'Modificado',
        new_local: 'Novo',
        unknown: 'Desconhecido',
      },
      empty: 'Nenhum template local encontrado.',
      emptyRemote: 'Seu projeto local está vazio.',
      importAll: 'Importar {count} templates da AWS',
      importing: 'Importando {count} templates...',
      importSuccess: 'Todos os templates foram importados!',
      importError: 'Ocorreu um erro na importação.',
    },
    verification: {
      title: 'Templates de Verificação',
      newTemplate: 'Novo Template de Verificação',
      templateName: 'Nome do Template',
      subject: 'Assunto',
      htmlContent: 'Conteúdo HTML',
      textContent: 'Conteúdo Texto',
      preview: 'Visualizar',
      deploy: 'Implantar',
      pull: 'Puxar da AWS',
      syncStatus: {
        synced: 'Sincronizado',
        modified: 'Modificado',
        new_local: 'Novo',
        unknown: 'Desconhecido',
      },
      empty: 'Nenhum template de verificação local encontrado.',
      emptyRemote: 'Seu projeto local está vazio.',
      importAll: 'Importar {count} templates da AWS',
      importing: 'Importando {count} templates...',
      importSuccess: 'Todos os templates foram importados!',
      importError: 'Ocorreu um erro na importação.',
    },
    editor: {
      title: 'Editor de Template',
      save: 'Salvar Template',
      saveSuccess: 'Template salvo com sucesso!',
      saveError: 'Erro ao salvar template.',
      deploy: 'Implantar na AWS',
      deploySuccess: 'Template implantado com sucesso!',
      deployError: 'Erro ao implantar template.',
      preview: 'Visualizar',
      variables: 'Variáveis',
      addVariable: 'Adicionar Variável',
      variableName: 'Nome da Variável',
      variableType: 'Tipo da Variável',
      required: 'Obrigatório',
    },
    testEmail: {
      title: 'Enviar E-mail de Teste',
      description: 'Digite o endereço de e-mail para onde deseja enviar o teste',
      emailPlaceholder: 'exemplo@email.com',
      sendButton: 'Enviar Teste',
      sending: 'Enviando...',
      success: 'E-mail de teste enviado com sucesso!',
      error: 'Falha ao enviar e-mail de teste',
      invalidEmail: 'E-mail inválido',
      emailRequired: 'E-mail é obrigatório'
    },
    permissions: {
      title: 'Permissões do AWS SES',
      checking: 'Verificando Permissões',
      checkingDesc: 'Verificando suas permissões no AWS SES...',
      error: 'Erro ao Verificar Permissões',
      retry: 'Tentar Novamente',
      refresh: 'Atualizar',
      allowed: 'Permitido',
      denied: 'Negado',
      emailTemplates: 'Templates de E-mail',
      verificationTemplates: 'Templates de Verificação',
      identities: 'Identidades e Configurações',
      listTemplates: 'Listar Templates',
      listTemplatesDesc: 'Visualizar templates existentes',
      createTemplates: 'Criar Templates',
      createTemplatesDesc: 'Criar novos templates de e-mail',
      updateTemplates: 'Atualizar Templates',
      updateTemplatesDesc: 'Modificar templates existentes',
      deleteTemplates: 'Deletar Templates',
      deleteTemplatesDesc: 'Remover templates da AWS',
      sendEmails: 'Enviar E-mails de Teste',
      sendEmailsDesc: 'Enviar e-mails de teste usando templates',
      listVerificationTemplates: 'Listar Templates de Verificação',
      listVerificationTemplatesDesc: 'Visualizar templates de verificação',
      createVerificationTemplates: 'Criar Templates de Verificação',
      createVerificationTemplatesDesc: 'Criar novos templates de verificação',
      updateVerificationTemplates: 'Atualizar Templates de Verificação',
      updateVerificationTemplatesDesc: 'Modificar templates de verificação',
      deleteVerificationTemplates: 'Deletar Templates de Verificação',
      deleteVerificationTemplatesDesc: 'Remover templates de verificação',
      sendVerificationEmails: 'Enviar E-mails de Verificação',
      sendVerificationEmailsDesc: 'Enviar e-mails de verificação customizados',
      listIdentities: 'Listar Identidades',
      listIdentitiesDesc: 'Visualizar e-mails/domínios verificados',
      verifyIdentities: 'Verificar Identidades',
      verifyIdentitiesDesc: 'Verificar novos e-mails/domínios',
      getSendQuota: 'Ver Cota de Envio',
      getSendQuotaDesc: 'Visualizar limite de e-mails por dia',
      getSendRate: 'Ver Taxa de Envio',
      getSendRateDesc: 'Visualizar limite de e-mails por segundo'
    },
  },
  en: {
    common: {
      welcome: 'Welcome to SES Pilot',
      loading: 'Loading...',
      error: 'Error',
      success: 'Success',
      cancel: 'Cancel',
      save: 'Save',
      delete: 'Delete',
      edit: 'Edit',
      create: 'Create',
      close: 'Close',
      confirm: 'Confirm',
      back: 'Back',
      next: 'Next',
      previous: 'Previous',
      search: 'Search',
      filter: 'Filter',
      sort: 'Sort',
      refresh: 'Refresh',
      sync: 'Sync',
      import: 'Import',
      export: 'Export',
      download: 'Download',
      upload: 'Upload',
      settings: 'Settings',
      theme: 'Theme',
      language: 'Language',
      dark: 'Dark',
      light: 'Light',
      system: 'System',
      portuguese: 'Português',
      english: 'English',
    },
    dashboard: {
      title: 'Dashboard',
      description: 'Manage your Amazon SES email templates simply and efficiently.',
      emailTemplates: 'Email Templates',
      emailTemplatesDesc: 'Manage your custom email templates',
      verificationTemplates: 'Verification Templates',
      verificationTemplatesDesc: 'Templates for email verification',
      awsStatus: 'AWS Status',
      awsStatusDesc: 'Amazon SES connectivity',
      quickActions: 'Quick Actions',
      quickActionsDesc: 'Quickly access main features',
      createNewTemplate: 'Create New Template',
      createNewTemplateDesc: 'Create a new email template from scratch',
      importFromAWS: 'Import from AWS',
      importFromAWSDesc: 'Import existing templates from AWS',
      comingSoon: 'Coming Soon',
      connected: 'Connected',
      online: 'Online',
      local: 'Local',
    },
    templates: {
      title: 'Email Templates',
      newTemplate: 'New Template',
      templateName: 'Template Name',
      subject: 'Subject',
      htmlContent: 'HTML Content',
      textContent: 'Text Content',
      variables: 'Variables',
      preview: 'Preview',
      deploy: 'Deploy',
      pull: 'Pull from AWS',
      syncStatus: {
        synced: 'Synced',
        modified: 'Modified',
        new_local: 'New',
        unknown: 'Unknown',
      },
      empty: 'No local templates found.',
      emptyRemote: 'Your local project is empty.',
      importAll: 'Import {count} templates from AWS',
      importing: 'Importing {count} templates...',
      importSuccess: 'All templates were imported!',
      importError: 'An error occurred during import.',
    },
    verification: {
      title: 'Verification Templates',
      newTemplate: 'New Verification Template',
      templateName: 'Template Name',
      subject: 'Subject',
      htmlContent: 'HTML Content',
      textContent: 'Text Content',
      preview: 'Preview',
      deploy: 'Deploy',
      pull: 'Pull from AWS',
      syncStatus: {
        synced: 'Synced',
        modified: 'Modified',
        new_local: 'New',
        unknown: 'Unknown',
      },
      empty: 'No local verification templates found.',
      emptyRemote: 'Your local project is empty.',
      importAll: 'Import {count} templates from AWS',
      importing: 'Importing {count} templates...',
      importSuccess: 'All templates were imported!',
      importError: 'An error occurred during import.',
    },
    editor: {
      title: 'Template Editor',
      save: 'Save Template',
      saveSuccess: 'Template saved successfully!',
      saveError: 'Error saving template.',
      deploy: 'Deploy to AWS',
      deploySuccess: 'Template deployed successfully!',
      deployError: 'Error deploying template.',
      preview: 'Preview',
      variables: 'Variables',
      addVariable: 'Add Variable',
      variableName: 'Variable Name',
      variableType: 'Variable Type',
      required: 'Required',
    },
    testEmail: {
      title: 'Send Test Email',
      description: 'Enter the email address where you want to send the test',
      emailPlaceholder: 'example@email.com',
      sendButton: 'Send Test',
      sending: 'Sending...',
      success: 'Test email sent successfully!',
      error: 'Failed to send test email',
      invalidEmail: 'Invalid email',
      emailRequired: 'Email is required'
    },
    permissions: {
      title: 'AWS SES Permissions',
      checking: 'Checking Permissions',
      checkingDesc: 'Checking your AWS SES permissions...',
      error: 'Error Checking Permissions',
      retry: 'Try Again',
      refresh: 'Refresh',
      allowed: 'Allowed',
      denied: 'Denied',
      emailTemplates: 'Email Templates',
      verificationTemplates: 'Verification Templates',
      identities: 'Identities and Settings',
      listTemplates: 'List Templates',
      listTemplatesDesc: 'View existing templates',
      createTemplates: 'Create Templates',
      createTemplatesDesc: 'Create new email templates',
      updateTemplates: 'Update Templates',
      updateTemplatesDesc: 'Modify existing templates',
      deleteTemplates: 'Delete Templates',
      deleteTemplatesDesc: 'Remove templates from AWS',
      sendEmails: 'Send Test Emails',
      sendEmailsDesc: 'Send test emails using templates',
      listVerificationTemplates: 'List Verification Templates',
      listVerificationTemplatesDesc: 'View verification templates',
      createVerificationTemplates: 'Create Verification Templates',
      createVerificationTemplatesDesc: 'Create new verification templates',
      updateVerificationTemplates: 'Update Verification Templates',
      updateVerificationTemplatesDesc: 'Modify verification templates',
      deleteVerificationTemplates: 'Delete Verification Templates',
      deleteVerificationTemplatesDesc: 'Remove verification templates',
      sendVerificationEmails: 'Send Verification Emails',
      sendVerificationEmailsDesc: 'Send custom verification emails',
      listIdentities: 'List Identities',
      listIdentitiesDesc: 'View verified emails/domains',
      verifyIdentities: 'Verify Identities',
      verifyIdentitiesDesc: 'Verify new emails/domains',
      getSendQuota: 'View Send Quota',
      getSendQuotaDesc: 'View daily email limit',
      getSendRate: 'View Send Rate',
      getSendRateDesc: 'View emails per second limit'
    },
  },
};

// Função para obter tradução
export function t(key: string, locale: Locale = 'pt', params?: Record<string, string>): string {
  const keys = key.split('.');
  let value: unknown = translations[locale];
  
  for (const k of keys) {
    if (value && typeof value === 'object' && k in value) {
      value = (value as Record<string, unknown>)[k];
    } else {
      // Fallback para português se a chave não existir
      value = translations.pt;
      for (const fallbackKey of keys) {
        if (value && typeof value === 'object' && fallbackKey in value) {
          value = (value as Record<string, unknown>)[fallbackKey];
        } else {
          return key; // Retorna a chave se não encontrar tradução
        }
      }
    }
  }
  
  if (typeof value !== 'string') {
    return key;
  }
  
  // Substituir parâmetros
  if (params) {
    return value.replace(/\{(\w+)\}/g, (match, param) => {
      return params[param] || match;
    });
  }
  
  return value;
}

// Hook para usar traduções
export function useTranslation(locale: Locale = 'pt') {
  return {
    t: (key: string, params?: Record<string, string>) => t(key, locale, params),
    locale,
  };
}
